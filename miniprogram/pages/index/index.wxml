<!--pages/index/index.wxml-->
<view class="container">
  <!-- 顶部轮播 -->
  <swiper class="banner" indicator-dots autoplay interval="3000" circular>
    <swiper-item wx:for="{{banners}}" wx:key="index">
      <image class="banner-image" src="{{item}}" mode="aspectFill" />
    </swiper-item>
  </swiper>

  <!-- 功能入口 -->
  <view class="features">
    <view class="feature-item" bindtap="goToStore">
      <image class="feature-icon" src="/images/store.png" />
      <text class="feature-text">选择门店</text>
    </view>
    <view class="feature-item" bindtap="goToScan">
      <image class="feature-icon" src="/images/scan.png" />
      <text class="feature-text">扫码开门</text>
    </view>
    <view class="feature-item" bindtap="goToOrders">
      <image class="feature-icon" src="/images/order.png" />
      <text class="feature-text">我的订单</text>
    </view>
    <view class="feature-item" bindtap="goToCoupons">
      <image class="feature-icon" src="/images/coupon.png" />
      <text class="feature-text">优惠券</text>
    </view>
  </view>

  <!-- 热销商品 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">热销商品</text>
      <text class="section-more" bindtap="goToProducts">更多 ></text>
    </view>
    
    <view class="product-grid">
      <view class="product-item" wx:for="{{hotProducts}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
        <image class="product-image" src="{{item.image}}" mode="aspectFill" />
        <view class="product-info">
          <text class="product-name">{{item.name}}</text>
          <view class="product-price">
            <text class="price">¥{{item.price}}</text>
            <button class="add-cart-btn" catchtap="addToCart" data-id="{{item.id}}">+</button>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
